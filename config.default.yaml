# PrimeAgent Configuration
#
# This is the default configuration template for PrimeAgent.
# Environment variables are referenced with ${VAR_NAME} syntax and are expanded at startup.
#
# Required environment variables (must be set before startup):
# - ANTHROPIC_API_KEY or ANTHROPIC_OAUTH_TOKEN: Your Claude API key or OAuth token (mutually exclusive)
# - AUTH_TOKEN: API authentication token
#
# Optional environment variables:
# - ENVIRONMENT: deployment environment (development or production)
# - GIT_SSH_KEY: SSH private key for Git SSH authentication
# - GIT_USERNAME: Username for HTTPS Git authentication
# - GIT_TOKEN: Token/password for HTTPS Git authentication

# Deployment environment (affects CORS, logging, and other settings)
# Options: "development" or "production"
environment: development

vault:
  # Path to the knowledge base vault
  path: /vault

workspace:
  # Path to the workspace directory for additional repositories
  path: /workspace

  # Enable workspace/vault switching support
  enabled: false

git:
  # Enable Git synchronization of vault changes
  enabled: false

  # Git repository URL (required if enabled=true)
  # Examples:
  #   - git@github.com:username/Prime-Vault.git  (SSH)
  #   - https://github.com/username/Prime-Vault.git  (HTTPS)
  repo_url: null

  # Git commit author configuration
  user_name: "Prime Agent"
  user_email: "prime@local"

  # Git authentication method
  auth:
    # Method: 'ssh' or 'https'
    # - SSH: Requires GIT_SSH_KEY environment variable with private key
    # - HTTPS: Requires GIT_USERNAME and GIT_TOKEN environment variables
    method: ssh

anthropic:
  # Claude API key (optional if oauth_token is set)
  # Provide via ANTHROPIC_API_KEY environment variable
  # Note: Only one of api_key or oauth_token can be set
  api_key: ${ANTHROPIC_API_KEY}

  # Claude OAuth token (optional if api_key is set)
  # Provide via ANTHROPIC_OAUTH_TOKEN environment variable
  # Note: Only one of api_key or oauth_token can be set
  oauth_token: ${ANTHROPIC_OAUTH_TOKEN}

  # Optional: Custom Anthropic API endpoint
  # Leave null to use default endpoint
  base_url: null

  # Claude model for agent processing
  model: "claude-3-5-haiku-latest"

  # Maximum budget in USD for a single processing run
  # Used as a safety limit to prevent runaway costs
  max_budget_usd: 2.0

auth:
  # API authentication token (required)
  # Provide via AUTH_TOKEN environment variable
  token: ${AUTH_TOKEN}

logging:
  # Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"

# Base URL of the application (used for CORS, redirects, etc.)
# CORS origins are automatically derived from this URL
# Examples:
#   Development: http://localhost:8000 or http://localhost:3000
#   Production: https://app.example.com
base_url: http://localhost:8000

storage:
  # Data directory for persistent storage (not vault-managed)
  # Used for device tokens and other persistent data
  # Defaults to /data if not specified
  data_path: /data

# Note: All ${VAR_NAME} references are expanded from environment variables at startup.
# If any required variable is missing, the app will fail with a clear error message.
